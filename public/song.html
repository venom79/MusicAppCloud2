<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Now Playing - Kaatar</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/home.css">
    <link rel="stylesheet" href="./css/song.css">
    <script type="module" src="./js/header.js"></script>
    <style>
        .playlist-dropdown {
            background-color: #343a40 !important; /* Dark grey */
            color: #fff !important;
        }

        .playlist-dropdown .dropdown-item {
            color: #fff !important;
        }

        .playlist-dropdown .dropdown-item:hover {
            background-color: #495057 !important; /* Slightly lighter grey on hover */
            color: #fff !important;
        }

    </style>
</head>
<body>
    
        <div id="header-placeholder"></div>

        <!-- Song Player Section -->
        <section class="song-player-section">
            <div class="container-fluid px-4">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-6">
                        <div class="player-card">
                            
                            <!-- Song Cover -->
                            <div class="song-cover-container">
                                <img id="songCover" src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=400&fit=crop" 
                                     alt="Song Cover" class="song-cover-image">
                                <div class="cover-overlay">
                                    <div class="vinyl-effect"></div>
                                </div>
                            </div>
                            
                            <!-- Song Info -->
                            <div class="song-info">
                                <h2 class="song-title" id="songTitle">Loading...</h2>
                                <p class="song-artist" id="songArtist">Loading artist...</p>
                            </div>
                            
                            <!-- Audio Progress -->
                            <div class="audio-progress">
                                <span class="time-current" id="currentTime">0:00</span>
                                <div class="progress-container">
                                    <input type="range" class="progress-bar" id="progressBar" 
                                           min="0" max="100" value="0" step="0.1">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                                <span class="time-total" id="totalTime">0:00</span>
                            </div>
                            
                            <!-- Player Controls -->
                            <div class="player-controls">
                                <div class="d-flex align-items-center gap-1">
                                    <button class="control-btn small" id="likeBtn" title="Like Song">
                                        <i class="bi bi-heart"></i>
                                    </button>
                                    <span id="likesCount">0</span>
                                </div>

                                <button class="control-btn" id="prevBtn" title="Previous">
                                    <i class="bi bi-skip-backward-fill"></i>
                                </button>
                                <button class="control-btn play-pause-btn" id="playPauseBtn" title="Play/Pause">
                                    <i class="bi bi-play-fill"></i>
                                </button>
                                <button class="control-btn" id="nextBtn" title="Next">
                                    <i class="bi bi-skip-forward-fill"></i>
                                </button>

                                <div class="dropdown">
                                    <button class="btn btn-sm add-to-playlist-btn" 
                                            type="button" data-bs-toggle="dropdown" aria-expanded="false"
                                            title="Add to playlist">
                                        <i class="bi bi-plus-circle-fill fs-5"></i>
                                    </button>
                                    <ul class="dropdown-menu playlist-dropdown">
                                        <li><span class="dropdown-item">Loading...</span></li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

    <!-- Audio Element -->
    <audio id="audioPlayer" preload="metadata"></audio>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="./js/song.js"></script>
</body>
</html>
